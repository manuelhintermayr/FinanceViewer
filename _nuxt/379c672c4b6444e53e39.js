(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{184:function(t,e,a){var s=a(186);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(10).default)("c719d564",s,!0,{sourceMap:!1})},185:function(t,e,a){"use strict";var s=a(184);a.n(s).a},186:function(t,e,a){(t.exports=a(9)(!1)).push([t.i,"\n.bg-bubbles[data-v-0dc39524]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1\n}\n.bg-bubbles li[data-v-0dc39524]{position:absolute;list-style:none;display:block;width:40px;height:40px;background-color:hsla(0,0%,100%,.15);bottom:-160px;-webkit-animation:square-data-v-0dc39524 25s infinite;animation:square-data-v-0dc39524 25s infinite;transition-timing-function:linear\n}\n.bg-bubbles li[data-v-0dc39524]:first-child{left:10%\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(2){left:20%;width:80px;height:80px;-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-duration:17s;animation-duration:17s\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(3){left:25%;-webkit-animation-delay:4s;animation-delay:4s\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(4){left:40%;width:60px;height:60px;-webkit-animation-duration:22s;animation-duration:22s;background-color:hsla(0,0%,100%,.25)\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(5){left:70%\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(6){left:80%;width:120px;height:120px;-webkit-animation-delay:3s;animation-delay:3s;background-color:hsla(0,0%,100%,.2)\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(7){left:32%;width:160px;height:160px;-webkit-animation-delay:7s;animation-delay:7s\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(8){left:55%;width:20px;height:20px;-webkit-animation-delay:15s;animation-delay:15s;-webkit-animation-duration:40s;animation-duration:40s\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(9){left:25%;width:10px;height:10px;-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-duration:40s;animation-duration:40s;background-color:hsla(0,0%,100%,.3)\n}\n.bg-bubbles li[data-v-0dc39524]:nth-child(10){left:90%;width:160px;height:160px;-webkit-animation-delay:11s;animation-delay:11s\n}\n@-webkit-keyframes square-data-v-0dc39524{\n0%{-webkit-transform:translateY(0);transform:translateY(0)\n}\nto{-webkit-transform:translateY(-700px) rotate(600deg);transform:translateY(-700px) rotate(600deg)\n}\n}\n@keyframes square-data-v-0dc39524{\n0%{-webkit-transform:translateY(0);transform:translateY(0)\n}\nto{-webkit-transform:translateY(-700px) rotate(600deg);transform:translateY(-700px) rotate(600deg)\n}\n}",""])},187:function(t,e,a){"use strict";var s={},n=(a(185),a(15)),o=Object(n.a)(s,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"bg-bubbles"},[a("li"),t._v(" "),a("li"),t._v(" "),a("li"),t._v(" "),a("li"),t._v(" "),a("li"),t._v(" "),a("li"),t._v(" "),a("li"),t._v(" "),a("li"),t._v(" "),a("li"),t._v(" "),a("li")])}],!1,null,"0dc39524",null);o.options.__file="bobbles.vue";e.a=o.exports},188:function(t,e,a){var s=a(194);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,a(10).default)("c3e2b588",s,!0,{sourceMap:!1})},193:function(t,e,a){"use strict";var s=a(188);a.n(s).a},194:function(t,e,a){(t.exports=a(9)(!1)).push([t.i,"\n#content[data-v-152aec08]{position:absolute;width:100%;left:0;height:93.5%;height:calc(100% - 59px);overflow-y:scroll\n}\n.table thead th[data-v-152aec08]{border-top:none\n}\n.table .custom-checkbox .custom-control-label[data-v-152aec08]:before{height:31px;width:31px;position:relative\n}\n.table .custom-checkbox .custom-control-label[data-v-152aec08]:after{width:100%;height:100%\n}\n.custom-checkbox[data-v-152aec08]{padding-left:2.5rem\n}",""])},203:function(t,e,a){"use strict";a.r(e);a(47),a(100),a(101),a(27);var s={components:{Bobbles:a(187).a},layout:"loggedIn",data:function(){return{users:[],itemUsername:"",itemPassword:"",itemFirstname:"",itemLastname:"",itemIsLocked:!1,currentId:1,passwordChangeIsActivated:!1,newYear:"",currentUserToChangePassword:{id:0,username:"",originalUsername:"",firstname:"",lastname:"",isLocked:!1,password:""}}},mounted:function(){this.loadAll()},methods:{loadAll:function(){var t=this;this.$axios.get("admin/options.php?action=getUsers").then(function(e){var a=e.data;a.forEach(function(e){t.users.push({id:t.currentId++,username:e.username,originalUsername:e.username,firstname:e.firstname,lastname:e.lastname,isLocked:e.isLocked,password:"",years:e.years})}),console.log(a)}).catch(function(t){alert("Could not load users. An error calling the middleware occured. Look in the console for further information.")})},addUser:function(){var t=this,e={id:this.currentId++,username:this.itemUsername,firstname:this.itemFirstname,lastname:this.itemLastname,isLocked:this.itemIsLocked,password:this.itemPassword};""==e.username||""==e.firstname||""==e.lastname||""==e.password?alert("Please fill out all fields."):e.username.includes(" ")?alert("Username is not allowed to have wite spaces."):this.doesUserAlreadyExists(e.username)?alert('Username "'+e.username+'" exists already.'):this.$axios.post("admin/options.php?action=addUser",e).then(function(e){var a=e.data;null!=a.username?(t.users.push(a),t.itemUsername=t.itemPassword=t.itemFirstname=t.itemLastname=t.itemIsLocked="",t.scrollToEnd()):(console.log(reponse),alert("Could not add a new User. Check console for more info."))}).catch(function(t){alert("Could not add a new User. Check console for more info.")})},doesUserAlreadyExists:function(t){var e=!1;return this.users.forEach(function(a){t===a.username&&(e=!0)}),e},removeUser:function(t){var e=this;confirm("Are you sure you want to delte user "+t.username+"?")&&this.$axios.post("admin/options.php?action=removeUser",{username:t.username}).then(function(a){"User deleted."==a.data.message?e.users.splice(e.users.indexOf(t),1):(console.log(reponse),alert("Could not delete user. Check console for more info."))}).catch(function(t){alert("Could not delete user. Check console for more info.")})},updateUser:function(t){this.$axios.post("admin/options.php?action=updateUser",t).then(function(t){}).catch(function(t){alert("Could not update user. Check console for more info.")})},setPassword:function(t){this.currentUserToChangePassword=t,this.passwordChangeIsActivated=!0},addYear:function(){this.currentUserToChangePassword.years.push(this.newYear),this.newYear=""},removeYear:function(t){this.currentUserToChangePassword.years.splice(this.currentUserToChangePassword.years.indexOf(t),1)},setView:function(t){var e=this;this.$axios.post("admin/options.php?action=setView",{username:t.username}).then(function(t){"Username for view set."==t.data.message?e.$router.replace("/dashboard"):(console.log(reponse),alert("Could not set View. Check console for more info."))}).catch(function(t){alert("Could not set View. Check console for more info.")})},scrollToEnd:function(){var t=this.$el.querySelector("#content");t.scrollTop=t.scrollHeight},scrollToTop:function(){this.$el.querySelector("#content").scrollTop=0}}},n=(a(193),a(15)),o=Object(n.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("bobbles"),t._v(" "),a("div",{attrs:{id:"content"}},[a("main",{staticClass:"container",attrs:{role:"main"}},[a("h1",{staticClass:"mt-5"},[t._v("Admin Dashboard")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"my-3 p-3 bg-white rounded shadow-sm text-dark transparentModal"},[a("h3",{staticClass:"border-bottom border-gray pb-2 mb-0"},[t._v("Create new user")]),t._v(" "),a("br"),t._v(" "),a("p",{staticClass:"lead"},[t._v("Add a new user:")]),t._v(" "),a("hr"),t._v(" "),a("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"firstName"}},[t._v("First name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemFirstname,expression:"itemFirstname"}],staticClass:"form-control",attrs:{id:"firstName",type:"text",placeholder:"",value:"",maxlength:"45",required:""},domProps:{value:t.itemFirstname},on:{input:function(e){e.target.composing||(t.itemFirstname=e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("\n                Valid first name is required.\n              ")])]),t._v(" "),a("div",{staticClass:"col-md-6 mb-3"},[a("label",{attrs:{for:"lastName"}},[t._v("Last name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemLastname,expression:"itemLastname"}],staticClass:"form-control",attrs:{id:"lastName",type:"text",placeholder:"",value:"",maxlength:"45",required:""},domProps:{value:t.itemLastname},on:{input:function(e){e.target.composing||(t.itemLastname=e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("\n                Valid last name is required.\n              ")])])]),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{attrs:{for:"username"}},[t._v("Username")]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemUsername,expression:"itemUsername"}],staticClass:"form-control",attrs:{id:"username",type:"text",placeholder:"Username",required:"",maxlength:"45"},domProps:{value:t.itemUsername},on:{input:function(e){e.target.composing||(t.itemUsername=e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback",staticStyle:{width:"100%"}},[t._v("\n                Your username is required.\n              ")])])]),t._v(" "),a("div",{staticClass:"mb-3"},[a("label",{attrs:{for:"address"}},[t._v("Password")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemPassword,expression:"itemPassword"}],staticClass:"form-control",attrs:{id:"password",maxlength:"45",type:"password",placeholder:"Password",required:""},domProps:{value:t.itemPassword},on:{input:function(e){e.target.composing||(t.itemPassword=e.target.value)}}}),t._v(" "),a("div",{staticClass:"invalid-feedback"},[t._v("\n              Please enter your password.\n            ")])]),t._v(" "),a("hr",{staticClass:"mb-4"}),t._v(" "),a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemIsLocked,expression:"itemIsLocked"}],staticClass:"custom-control-input",attrs:{id:"is-Locked",type:"checkbox"},domProps:{checked:Array.isArray(t.itemIsLocked)?t._i(t.itemIsLocked,null)>-1:t.itemIsLocked},on:{change:function(e){var a=t.itemIsLocked,s=e.target,n=!!s.checked;if(Array.isArray(a)){var o=t._i(a,null);s.checked?o<0&&(t.itemIsLocked=a.concat([null])):o>-1&&(t.itemIsLocked=a.slice(0,o).concat(a.slice(o+1)))}else t.itemIsLocked=n}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"is-Locked"}},[t._v("Lock this user")])]),t._v(" "),a("hr",{staticClass:"mb-4"}),t._v(" "),a("button",{staticClass:"btn btn-secondary btn-lg btn-block",on:{click:function(e){return e.preventDefault(),t.addUser(e)}}},[t._v("Add User")])])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"my-3 p-3 bg-white rounded shadow-sm text-dark transparentModal"},[a("h3",{staticClass:"border-bottom border-gray pb-2 mb-0"},[t._v("Change user")]),t._v(" "),a("br"),t._v(" "),a("p",{staticClass:"lead"},[t._v("Change a current user:")]),t._v(" "),a("table",{staticClass:"table table-striped table-hover"},[t._m(2),t._v(" "),a("tbody",t._l(t.users,function(e){return a("tr",{key:e.username},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"u.username"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45",disabled:""},domProps:{value:e.username},on:{input:function(a){a.target.composing||t.$set(e,"username",a.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.firstname,expression:"u.firstname"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45"},domProps:{value:e.firstname},on:{input:function(a){a.target.composing||t.$set(e,"firstname",a.target.value)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.lastname,expression:"u.lastname"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45"},domProps:{value:e.lastname},on:{input:function(a){a.target.composing||t.$set(e,"lastname",a.target.value)}}})]),t._v(" "),a("td",[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isLocked,expression:"u.isLocked"}],staticClass:"custom-control-input",attrs:{id:"is-Locked-"+e.id,type:"checkbox"},domProps:{checked:Array.isArray(e.isLocked)?t._i(e.isLocked,null)>-1:e.isLocked},on:{change:function(a){var s=e.isLocked,n=a.target,o=!!n.checked;if(Array.isArray(s)){var r=t._i(s,null);n.checked?r<0&&t.$set(e,"isLocked",s.concat([null])):r>-1&&t.$set(e,"isLocked",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(e,"isLocked",o)}}}),t._v(" "),a("label",{staticClass:"custom-control-label",attrs:{for:"is-Locked-"+e.id}})])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary",on:{click:function(a){t.updateUser(e)}}},[t._v("Update")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary",on:{click:function(a){t.removeUser(e)}}},[t._v("Remove")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary",on:{click:function(a){t.setPassword(e)}}},[t._v("Set Password/Views")])]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary",on:{click:function(a){t.setView(e)}}},[t._v("View FinanceView")])])])}))]),t._v(" "),a("hr",{staticClass:"mb-4"}),t._v(" "),a("button",{staticClass:"btn btn-secondary btn-lg btn-block",on:{click:function(e){t.scrollToTop()}}},[t._v("Go to top")])]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.passwordChangeIsActivated?a("div",{staticClass:"my-3 p-3 bg-white rounded shadow-sm text-dark transparentModal"},[a("h3",{staticClass:"border-bottom border-gray pb-2 mb-0"},[t._v("Set password/years of user "),a("b",[t._v(t._s(t.currentUserToChangePassword.username))])]),t._v(" "),a("br"),t._v(" "),a("p",{staticClass:"lead"},[t._v("Set the password of the current user:")]),t._v(" "),a("table",{staticClass:"table table-striped table-hover"},[a("thead",{},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Username")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("New Password")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Update")])])]),t._v(" "),a("tbody",[a("tr",[a("th",{attrs:{scope:"row"}},[t._v(t._s(t.currentUserToChangePassword.id))]),t._v(" "),a("td",[t._v(t._s(t.currentUserToChangePassword.username))]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUserToChangePassword.password,expression:"currentUserToChangePassword.password"}],staticClass:"form-control",attrs:{type:"password",required:"",maxlength:"45"},domProps:{value:t.currentUserToChangePassword.password},on:{input:function(e){e.target.composing||t.$set(t.currentUserToChangePassword,"password",e.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary"},[t._v("Update Password")])])])])]),t._v(" "),a("br"),t._v(" "),a("p",{staticClass:"lead"},[t._v("Add and remove years for current user:")]),t._v(" "),a("table",{staticClass:"table table-striped table-hover"},[a("thead",{},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Viewname")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Action")])])]),t._v(" "),a("tbody",[t._l(t.currentUserToChangePassword.years,function(e){return a("tr",{key:e},[a("th",{attrs:{scope:"row"}},[t._v(t._s(e))]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary",on:{click:function(a){t.removeYear(e)}}},[t._v("Remove Year")])])])}),t._v(" "),a("tr",{staticClass:"lastRow"},[a("th",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newYear,expression:"newYear"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45"},domProps:{value:t.newYear},on:{input:function(e){e.target.composing||(t.newYear=e.target.value)}}})]),t._v(" "),a("td",[a("button",{staticClass:"btn btn-secondary",attrs:{disabled:""==t.newYear},on:{click:function(e){t.addYear()}}},[t._v("Add Year "+t._s(t.newYear))])])])],2)]),t._v(" "),a("hr",{staticClass:"mb-4"}),t._v(" "),a("button",{staticClass:"btn btn-secondary btn-lg btn-block",on:{click:function(e){t.scrollToTop(),t.passwordChangeIsActivated=!1}}},[t._v("Hide & go to top")])]):t._e()])],1)])],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"lead"},[this._v("Update, edit, delete, create users and set a new password for them. "),e("a",{attrs:{href:"..\\logout.php"}},[this._v("Logout")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("@")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Username")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Firstname")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Lastname")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Locked")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Update")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Remove")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Password/Views")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("FinanceView")])])])}],!1,null,"152aec08",null);o.options.__file="index.vue";e.default=o.exports}}]);