(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{417:function(e,t,o){var content=o(419);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(55).default)("8f897d22",content,!0,{sourceMap:!1})},418:function(e,t,o){"use strict";var r=o(417);o.n(r).a},419:function(e,t,o){(e.exports=o(54)(!1)).push([e.i,".bg-bubbles[data-v-0dc39524]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.bg-bubbles li[data-v-0dc39524]{position:absolute;list-style:none;display:block;width:40px;height:40px;background-color:hsla(0,0%,100%,.15);bottom:-160px;-webkit-animation:square-data-v-0dc39524 25s infinite;animation:square-data-v-0dc39524 25s infinite;transition-timing-function:linear}.bg-bubbles li[data-v-0dc39524]:first-child{left:10%}.bg-bubbles li[data-v-0dc39524]:nth-child(2){left:20%;width:80px;height:80px;-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-duration:17s;animation-duration:17s}.bg-bubbles li[data-v-0dc39524]:nth-child(3){left:25%;-webkit-animation-delay:4s;animation-delay:4s}.bg-bubbles li[data-v-0dc39524]:nth-child(4){left:40%;width:60px;height:60px;-webkit-animation-duration:22s;animation-duration:22s;background-color:hsla(0,0%,100%,.25)}.bg-bubbles li[data-v-0dc39524]:nth-child(5){left:70%}.bg-bubbles li[data-v-0dc39524]:nth-child(6){left:80%;width:120px;height:120px;-webkit-animation-delay:3s;animation-delay:3s;background-color:hsla(0,0%,100%,.2)}.bg-bubbles li[data-v-0dc39524]:nth-child(7){left:32%;width:160px;height:160px;-webkit-animation-delay:7s;animation-delay:7s}.bg-bubbles li[data-v-0dc39524]:nth-child(8){left:55%;width:20px;height:20px;-webkit-animation-delay:15s;animation-delay:15s;-webkit-animation-duration:40s;animation-duration:40s}.bg-bubbles li[data-v-0dc39524]:nth-child(9){left:25%;width:10px;height:10px;-webkit-animation-delay:2s;animation-delay:2s;-webkit-animation-duration:40s;animation-duration:40s;background-color:hsla(0,0%,100%,.3)}.bg-bubbles li[data-v-0dc39524]:nth-child(10){left:90%;width:160px;height:160px;-webkit-animation-delay:11s;animation-delay:11s}@-webkit-keyframes square-data-v-0dc39524{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-700px) rotate(600deg);transform:translateY(-700px) rotate(600deg)}}@keyframes square-data-v-0dc39524{0%{-webkit-transform:translateY(0);transform:translateY(0)}to{-webkit-transform:translateY(-700px) rotate(600deg);transform:translateY(-700px) rotate(600deg)}}",""])},420:function(e,t,o){"use strict";var r={},n=(o(418),o(38)),component=Object(n.a)(r,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ul",{staticClass:"bg-bubbles"},[o("li"),e._v(" "),o("li"),e._v(" "),o("li"),e._v(" "),o("li"),e._v(" "),o("li"),e._v(" "),o("li"),e._v(" "),o("li"),e._v(" "),o("li"),e._v(" "),o("li"),e._v(" "),o("li")])}],!1,null,"0dc39524",null);t.a=component.exports},421:function(e,t,o){var content=o(426);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(55).default)("49b57875",content,!0,{sourceMap:!1})},425:function(e,t,o){"use strict";var r=o(421);o.n(r).a},426:function(e,t,o){(e.exports=o(54)(!1)).push([e.i,"#content[data-v-4ad6760c]{position:absolute;width:100%;left:0;height:93.5%;height:calc(100% - 59px);overflow-y:scroll}.table thead th[data-v-4ad6760c]{border-top:none}.table .custom-checkbox .custom-control-label[data-v-4ad6760c]:before{height:31px;width:31px;position:relative}.table .custom-checkbox .custom-control-label[data-v-4ad6760c]:after{width:100%;height:100%}.custom-checkbox[data-v-4ad6760c]{padding-left:2.5rem}",""])},433:function(e,t,o){"use strict";o.r(t);o(128),o(129);var r={components:{Bobbles:o(420).a},layout:"loggedIn",data:function(){return{users:[],itemUsername:"",itemPassword:"",itemFirstname:"",itemLastname:"",itemIsLocked:!1,currentId:1,passwordChangeIsActivated:!1,newYear:"",currentUserToChangePassword:{}}},mounted:function(){this.loadAll()},methods:{loadAll:function(){var e=this;this.$axios.get("admin/options.php?action=getUsers").then(function(t){var o=t.data;o.forEach(function(element){e.users.push({id:e.currentId++,username:element.username,originalUsername:element.username,firstname:element.firstname,lastname:element.lastname,isLocked:element.isLocked,password:"",years:element.years})}),console.log(o)}).catch(function(e){alert("Could not load users. An error calling the middleware occured. Look in the console for further information.")})},addUser:function(){var e=this,t={id:this.currentId++,username:this.itemUsername,firstname:this.itemFirstname,lastname:this.itemLastname,isLocked:this.itemIsLocked,password:this.itemPassword};""==t.username||""==t.firstname||""==t.lastname||""==t.password||" "==t.password?alert("Please fill out all fields."):t.username.includes(" ")?alert("Username is not allowed to have wite spaces."):this.doesUserAlreadyExists(t.username)?alert('Username "'+t.username+'" exists already.'):this.$axios.post("admin/options.php?action=addUser",t).then(function(t){var o=t.data;null!=o.username?(e.users.push(o),e.itemUsername=e.itemPassword=e.itemFirstname=e.itemLastname=e.itemIsLocked="",e.scrollToEnd()):(console.log(reponse),alert("Could not add a new User. Check console for more info."))}).catch(function(e){alert("Could not add a new User. Check console for more info.")})},doesUserAlreadyExists:function(e){var t=!1;return this.users.forEach(function(element){e===element.username&&(t=!0)}),t},removeUser:function(e){var t=this;confirm("Are you sure you want to delte user "+e.username+"?")&&this.$axios.post("admin/options.php?action=removeUser",{username:e.username}).then(function(o){"User deleted."==o.data.message?(t.users.splice(t.users.indexOf(e),1),t.passwordChangeIsActivated=!1):(console.log(reponse),alert("Could not delete user. Check console for more info."))}).catch(function(e){alert("Could not delete user. Check console for more info.")})},updateUser:function(e){this.$axios.post("admin/options.php?action=updateUser",e).then(function(t){var o=t.data;null!=o.username?(e.firstname=o.firstname,e.lastname=o.lastname,e.isLocked=o.isLocked,setTimeout(function(){alert("User "+e.username+" was successfully updated!")},100)):(console.log(reponse),alert("Could not update user. Check console for more info."))}).catch(function(e){alert("Could not update user. Check console for more info.")})},setPasswordView:function(e){var t=this;this.currentUserToChangePassword=e,this.passwordChangeIsActivated=!0,setTimeout(function(){t.scrollToEnd()},100)},setNewPassword:function(){var e=this;this.$axios.post("admin/options.php?action=setPassword",{username:this.currentUserToChangePassword.username,newPassword:this.currentUserToChangePassword.password}).then(function(t){"Password set."==t.data.message?(e.currentUserToChangePassword.password="",setTimeout(function(){alert("Pasword for user "+e.currentUserToChangePassword.username+" was successfully set!")},100)):(console.log(reponse),alert("Could not set password. Check console for more info."))}).catch(function(e){alert("Could not set password. Check console for more info.")})},addYear:function(){var e=this,t={username:this.currentUserToChangePassword.username,year:this.newYear};this.doesYearForUserAlreadyExists(this.currentUserToChangePassword.username,this.newYear)?alert("Year "+this.newYear+" does already exist."):this.$axios.post("admin/options.php?action=addYear",t).then(function(t){var o=t.data;null!=o.newYear?(e.currentUserToChangePassword.years.push(o.newYear),e.newYear=""):(console.log(reponse),alert("Could not add a new year. Check console for more info."))}).catch(function(e){alert("Could not add a new year. Check console for more info.")})},doesYearForUserAlreadyExists:function(e,t){var o=!1;return this.users.forEach(function(element){e===element.username&&element.years.forEach(function(e){t==e&&(o=!0)})}),o},removeYear:function(e){var t=this;confirm("Are you sure you want to delte the year entry "+e+"?")&&(this.currentUserToChangePassword.years.length>1?this.$axios.post("admin/options.php?action=removeYear",{username:this.currentUserToChangePassword.username,year:e}).then(function(o){"Year deleted."==o.data.message?t.currentUserToChangePassword.years.splice(t.currentUserToChangePassword.years.indexOf(e),1):(console.log(reponse),alert("Could not delete year. Check console for more info."))}).catch(function(e){alert("Could not delete year. Check console for more info.")}):alert("There has to be at least one year."))},setView:function(e){this.$axios.post("admin/options.php?action=setView",{username:e.username}).then(function(e){"Username for view set."==e.data.message?window.location="/dashboard":(console.log(reponse),alert("Could not set View. Check console for more info."))}).catch(function(e){alert("Could not set View. Check console for more info.")})},scrollToEnd:function(){var e=this.$el.querySelector("#content");e.scrollTop=e.scrollHeight},scrollToTop:function(){this.$el.querySelector("#content").scrollTop=0}}},n=(o(425),o(38)),component=Object(n.a)(r,function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("bobbles"),e._v(" "),o("div",{attrs:{id:"content"}},[o("main",{staticClass:"container",attrs:{role:"main"}},[o("h1",{staticClass:"mt-5"},[e._v("Admin Dashboard")]),e._v(" "),e._m(0),e._v(" "),o("div",{staticClass:"my-3 p-3 bg-white rounded shadow-sm text-dark transparentModal"},[o("h3",{staticClass:"border-bottom border-gray pb-2 mb-0"},[e._v("Create new user")]),e._v(" "),o("br"),e._v(" "),o("p",{staticClass:"lead"},[e._v("Add a new user:")]),e._v(" "),o("hr"),e._v(" "),o("form",{staticClass:"needs-validation",attrs:{novalidate:""}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6 mb-3"},[o("label",{attrs:{for:"firstName"}},[e._v("First name")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemFirstname,expression:"itemFirstname"}],staticClass:"form-control",attrs:{id:"firstName",type:"text",placeholder:"",value:"",maxlength:"45",required:""},domProps:{value:e.itemFirstname},on:{input:function(t){t.target.composing||(e.itemFirstname=t.target.value)}}}),e._v(" "),o("div",{staticClass:"invalid-feedback"},[e._v("\n                Valid first name is required.\n              ")])]),e._v(" "),o("div",{staticClass:"col-md-6 mb-3"},[o("label",{attrs:{for:"lastName"}},[e._v("Last name")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemLastname,expression:"itemLastname"}],staticClass:"form-control",attrs:{id:"lastName",type:"text",placeholder:"",value:"",maxlength:"45",required:""},domProps:{value:e.itemLastname},on:{input:function(t){t.target.composing||(e.itemLastname=t.target.value)}}}),e._v(" "),o("div",{staticClass:"invalid-feedback"},[e._v("\n                Valid last name is required.\n              ")])])]),e._v(" "),o("div",{staticClass:"mb-3"},[o("label",{attrs:{for:"username"}},[e._v("Username")]),e._v(" "),o("div",{staticClass:"input-group"},[e._m(1),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemUsername,expression:"itemUsername"}],staticClass:"form-control",attrs:{id:"username",type:"text",placeholder:"Username",required:"",maxlength:"45"},domProps:{value:e.itemUsername},on:{input:function(t){t.target.composing||(e.itemUsername=t.target.value)}}}),e._v(" "),o("div",{staticClass:"invalid-feedback",staticStyle:{width:"100%"}},[e._v("\n                Your username is required.\n              ")])])]),e._v(" "),o("div",{staticClass:"mb-3"},[o("label",{attrs:{for:"address"}},[e._v("Password")]),e._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemPassword,expression:"itemPassword"}],staticClass:"form-control",attrs:{id:"password",maxlength:"45",type:"password",placeholder:"Password",required:""},domProps:{value:e.itemPassword},on:{input:function(t){t.target.composing||(e.itemPassword=t.target.value)}}}),e._v(" "),o("div",{staticClass:"invalid-feedback"},[e._v("\n              Please enter your password.\n            ")])]),e._v(" "),o("hr",{staticClass:"mb-4"}),e._v(" "),o("div",{staticClass:"custom-control custom-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.itemIsLocked,expression:"itemIsLocked"}],staticClass:"custom-control-input",attrs:{id:"is-Locked",type:"checkbox"},domProps:{checked:Array.isArray(e.itemIsLocked)?e._i(e.itemIsLocked,null)>-1:e.itemIsLocked},on:{change:function(t){var o=e.itemIsLocked,r=t.target,n=!!r.checked;if(Array.isArray(o)){var l=e._i(o,null);r.checked?l<0&&(e.itemIsLocked=o.concat([null])):l>-1&&(e.itemIsLocked=o.slice(0,l).concat(o.slice(l+1)))}else e.itemIsLocked=n}}}),e._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"is-Locked"}},[e._v("Lock this user")])]),e._v(" "),o("hr",{staticClass:"mb-4"}),e._v(" "),o("button",{staticClass:"btn btn-secondary btn-lg btn-block",on:{click:function(t){return t.preventDefault(),e.addUser(t)}}},[e._v("Add User")])])]),e._v(" "),o("br"),e._v(" "),o("div",{staticClass:"my-3 p-3 bg-white rounded shadow-sm text-dark transparentModal"},[o("h3",{staticClass:"border-bottom border-gray pb-2 mb-0"},[e._v("Change user")]),e._v(" "),o("br"),e._v(" "),o("p",{staticClass:"lead"},[e._v("Change a current user:")]),e._v(" "),o("table",{staticClass:"table table-striped table-hover"},[e._m(2),e._v(" "),o("tbody",e._l(e.users,function(u){return o("tr",{key:u.username},[o("th",{attrs:{scope:"row"}},[e._v(e._s(u.id))]),e._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:u.username,expression:"u.username"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45",disabled:""},domProps:{value:u.username},on:{input:function(t){t.target.composing||e.$set(u,"username",t.target.value)}}})]),e._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:u.firstname,expression:"u.firstname"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45"},domProps:{value:u.firstname},on:{input:function(t){t.target.composing||e.$set(u,"firstname",t.target.value)}}})]),e._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:u.lastname,expression:"u.lastname"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45"},domProps:{value:u.lastname},on:{input:function(t){t.target.composing||e.$set(u,"lastname",t.target.value)}}})]),e._v(" "),o("td",[o("div",{staticClass:"custom-control custom-checkbox"},[o("input",{directives:[{name:"model",rawName:"v-model",value:u.isLocked,expression:"u.isLocked"}],staticClass:"custom-control-input",attrs:{id:"is-Locked-"+u.id,type:"checkbox"},domProps:{checked:Array.isArray(u.isLocked)?e._i(u.isLocked,null)>-1:u.isLocked},on:{change:function(t){var o=u.isLocked,r=t.target,n=!!r.checked;if(Array.isArray(o)){var l=e._i(o,null);r.checked?l<0&&e.$set(u,"isLocked",o.concat([null])):l>-1&&e.$set(u,"isLocked",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(u,"isLocked",n)}}}),e._v(" "),o("label",{staticClass:"custom-control-label",attrs:{for:"is-Locked-"+u.id}})])]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.updateUser(u)}}},[e._v("Update")])]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.removeUser(u)}}},[e._v("Remove")])]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.setPasswordView(u)}}},[e._v("Set Password/Views")])]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-secondary",on:{click:function(t){return e.setView(u)}}},[e._v("View FinanceView")])])])}),0)]),e._v(" "),o("hr",{staticClass:"mb-4"}),e._v(" "),o("button",{staticClass:"btn btn-secondary btn-lg btn-block",on:{click:function(t){return e.scrollToTop()}}},[e._v("Go to top")])]),e._v(" "),o("transition",{attrs:{name:"fade"}},[e.passwordChangeIsActivated?o("div",{staticClass:"my-3 p-3 bg-white rounded shadow-sm text-dark transparentModal"},[o("h3",{staticClass:"border-bottom border-gray pb-2 mb-0"},[e._v("Set password/years of user "),o("b",[e._v(e._s(e.currentUserToChangePassword.username))])]),e._v(" "),o("br"),e._v(" "),o("p",{staticClass:"lead"},[e._v("Set the password of the current user:")]),e._v(" "),o("table",{staticClass:"table table-striped table-hover"},[o("thead",{},[o("tr",[o("th",{attrs:{scope:"col"}},[e._v("#")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Username")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("New Password")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Update")])])]),e._v(" "),o("tbody",[o("tr",[o("th",{attrs:{scope:"row"}},[e._v(e._s(e.currentUserToChangePassword.id))]),e._v(" "),o("td",[e._v(e._s(e.currentUserToChangePassword.username))]),e._v(" "),o("td",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.currentUserToChangePassword.password,expression:"currentUserToChangePassword.password"}],staticClass:"form-control",attrs:{type:"password",required:"",maxlength:"45"},domProps:{value:e.currentUserToChangePassword.password},on:{input:function(t){t.target.composing||e.$set(e.currentUserToChangePassword,"password",t.target.value)}}})]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-secondary",attrs:{disabled:""==e.currentUserToChangePassword.password},on:{click:function(t){return e.setNewPassword()}}},[e._v("Update Password")])])])])]),e._v(" "),o("br"),e._v(" "),o("p",{staticClass:"lead"},[e._v("Add and remove years for current user:")]),e._v(" "),o("table",{staticClass:"table table-striped table-hover"},[o("thead",{},[o("tr",[o("th",{attrs:{scope:"col"}},[e._v("Viewname")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Action")])])]),e._v(" "),o("tbody",[e._l(e.currentUserToChangePassword.years,function(t){return o("tr",{key:t},[o("th",{attrs:{scope:"row"}},[e._v(e._s(t))]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-secondary",on:{click:function(o){return e.removeYear(t)}}},[e._v("Remove Year")])])])}),e._v(" "),o("tr",{staticClass:"lastRow"},[o("th",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.newYear,expression:"newYear"}],staticClass:"form-control",attrs:{type:"text",required:"",maxlength:"45"},domProps:{value:e.newYear},on:{input:function(t){t.target.composing||(e.newYear=t.target.value)}}})]),e._v(" "),o("td",[o("button",{staticClass:"btn btn-secondary",attrs:{disabled:""==e.newYear},on:{click:function(t){return e.addYear()}}},[e._v("Add Year "+e._s(e.newYear))])])])],2)]),e._v(" "),o("hr",{staticClass:"mb-4"}),e._v(" "),o("button",{staticClass:"btn btn-secondary btn-lg btn-block",on:{click:function(t){e.scrollToTop(),e.passwordChangeIsActivated=!1}}},[e._v("Hide & go to top")])]):e._e()])],1)])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"lead"},[this._v("Update, edit, delete, create users and set a new password for them. "),t("a",{attrs:{href:"..\\logout.php"}},[this._v("Logout")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-prepend"},[t("span",{staticClass:"input-group-text"},[this._v("@")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("thead",{},[o("tr",[o("th",{attrs:{scope:"col"}},[e._v("#")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Username")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Firstname")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Lastname")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Locked")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Update")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Remove")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("Password/Views")]),e._v(" "),o("th",{attrs:{scope:"col"}},[e._v("FinanceView")])])])}],!1,null,"4ad6760c",null);t.default=component.exports}}]);